<div aria-label="Page navigation example" style="display:flex; justify-content:center">
    <ul class="pagination">
        <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
            <a class="page-link" onclick="performAjaxRequest(@(Model.CurrentPage - 1))">Trang trước</a>
        </li>
        @if (Model.TotalPages > 1)
        {
            var startPage = Math.Max(Model.CurrentPage - 4, 1);
            var endPage = Math.Min(Model.CurrentPage + 3, Model.TotalPages);

            if (Model.TotalPages > 10)
            {
                endPage = Math.Min(Model.TotalPages - 2, endPage);
            }
            for (var i = startPage; i <= endPage; i++)
            {
                <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                    <a class="page-link" onclick="performAjaxRequest(@i)">@i</a>
                </li>
            }

            if (Model.TotalPages > 10)
            {
                <li class="page-item disabled">
                    <a class="page-link">...</a>
                </li>
                <li class="page-item @(Model.TotalPages == Model.CurrentPage ? "active" : "")">
                    <a class="page-link" onclick="performAjaxRequest(@Model.TotalPages)">@Model.TotalPages</a>
                </li>
            }
        }
        <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
            <a class="page-link" onclick="performAjaxRequest(@(Model.CurrentPage + 1))">Trang kế</a>
        </li>
    </ul>

</div>

